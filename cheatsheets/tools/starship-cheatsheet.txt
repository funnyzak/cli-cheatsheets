##############################################################################
# starship Cheatsheet
# https://github.com/funnyzak/cli-cheatsheets
##############################################################################

# Legend:
#   <format>      : Format string
#   <symbol>      : Symbol character
#   <color>       : Color name or code
#   <style>       : Style combination
#   <module>      : Starship module name

##############################################################################
# å®‰è£…å’ŒåŸºç¡€è®¾ç½® / Installation and Basic Setup
##############################################################################

# å®‰è£… / Installation
curl -sS https://starship.rs/install.sh | bash    # Unix/Linuxå®‰è£…
choco install starship                            # Windows Chocolatey
brew install starship                             # macOS Homebrew

# Shellåˆå§‹åŒ– / Shell initialization
# Bash (~/.bashrc):
eval "$(starship init bash)"

# Zsh (~/.zshrc):
eval "$(starship init zsh)"

# Fish (~/.config/fish/config.fish):
starship init fish | source

# PowerShell (~/.config/powershell/profile.ps1):
Invoke-Expression (&starship init powershell)

##############################################################################
# åŸºç¡€é…ç½® / Basic Configuration
##############################################################################

# åˆ›å»ºé…ç½®æ–‡ä»¶ / Create configuration file
mkdir -p ~/.config/starship
touch ~/.config/starship.toml

# åŸºç¡€é…ç½®ç¤ºä¾‹ / Basic configuration example
format = "$all"
add_newline = true

##############################################################################
# æ¨¡å—é…ç½® / Module Configuration
##############################################################################

# å­—ç¬¦ç¬¦å· / Character symbols
[character]
success_symbol = "[âœ](bold green)"
error_symbol = "[âœ](bold red)"
vicmd_symbol = "[âœ](bold blue)"

# ç”¨æˆ·åæ¨¡å— / Username module
[username]
style_user = "bold dimmed blue"
show_always = false
disabled = false

# ä¸»æœºåæ¨¡å— / Hostname module
[hostname]
ssh_only = true
format = "[$hostname](bold dimmed green)"
disabled = false

##############################################################################
# ç›®å½•å’Œè·¯å¾„ / Directory and Path
##############################################################################

# å½“å‰ç›®å½• / Current directory
[directory]
truncation_length = 3
truncation_symbol = "â€¦/"
read_only = " ğŸ”’"
read_only_style = "red"
style = "bold blue"
disabled = false

# GitçŠ¶æ€ / Git status
[git_status]
conflicted = "âš”ï¸ "
ahead = "ğŸï¸ ğŸ’¨"
behind = "ğŸ¢ "
diverged = "ğŸ˜µ "
untracked = "ğŸ¤·â€"
stashed = "ğŸ“¦ "
modified = "ğŸ“"
staged = '[++\($count\)](green)'
renamed = "ğŸ‘…"
deleted = "ğŸ—‘ï¸ "

# Gitåˆ†æ”¯ / Git branch
[git_branch]
symbol = "ğŸŒ¿ "
truncation_length = 10
truncation_symbol = "â€¦"
style = "bold purple"

##############################################################################
# ç¼–ç¨‹è¯­è¨€æ¨¡å— / Programming Language Modules
##############################################################################

# Node.js / Node.js
[nodejs]
symbol = "ğŸ“œ "
style = "bold green"
disabled = false

# Python / Python
[python]
symbol = "ğŸ "
style = "bold yellow"
pyenv_version_name = true
disabled = false

# Rust / Rust
[rust]
symbol = "ğŸ¦€ "
style = "bold red"
disabled = false

# Go / Go
[golang]
symbol = "ğŸ¹ "
style = "bold cyan"
disabled = false

# Java / Java
[java]
symbol = "â˜• "
style = "bold red"
disabled = false

##############################################################################
# äº‘å’Œå®¹å™¨ / Cloud and Container
##############################################################################

# Docker / Docker
[docker_context]
symbol = "ğŸ³ "
style = "blue bold"
disabled = false

# Kubernetes / Kubernetes
[kubernetes]
symbol = "â˜¸ï¸ "
format = '[$symbol$context( \($namespace\))]($style)'
disabled = false

##############################################################################
# è‡ªå®šä¹‰æ ¼å¼ / Custom Formats
##############################################################################

# ç®€æ´æ ¼å¼ / Minimal format
format = """
[ğŸš€](bold red)$directory$character
"""

# å¼€å‘è€…æ ¼å¼ / Developer format
format = """
[â”Œâ”€â”€â”€](bold green)$username$hostname$git_branch
[â”‚](bold green)$directory$nodejs$python$rust$golang$java
[â””â”€â”€â”€](bold green)$character
"""

# è¯¦ç»†æ ¼å¼ / Detailed format
format = """
$username$hostname$shlvl$singularity$kubernetes$directory$git_branch$git_commit$git_state$git_status$hg_branch$docker_context$package$cmake$dart$deno$dotnet$elixir$elm$erlang$golang$helm$java$julia$kotlin$lua$nim$nodejs$ocaml$perl$php$purescript$python$raku$rlang$red$ruby$rust$scala$swift$terraform$vlang$vcsh$nix_shell$conda$memory_usage$aws$gcloud$openstack$azure_env$env_var$crystal$custom$sudo$cmd_duration$line_break$jobs$battery$time$status$container$shell$character
"""

##############################################################################
# é¢œè‰²å’Œæ ·å¼ / Colors and Styles
##############################################################################

# é¢„å®šä¹‰é¢œè‰² / Predefined colors
#   black, red, green, blue, yellow, purple, cyan, white
#   dimmed, bold, underline, italic, bg:color, fg:color

# è‡ªå®šä¹‰é¢œè‰²ç¤ºä¾‹ / Custom color examples
[status]
style = "bg:red fg:white"
symbol = "âœ–"
disabled = false

[time]
style = "bold yellow"
format = "[$time]($style)"
disabled = false

##############################################################################
# æ¡ä»¶æ¨¡å— / Conditional Modules
##############################################################################

# ä»…åœ¨SSHè¿æ¥æ—¶æ˜¾ç¤º / Show only on SSH
[hostname]
ssh_only = true
format = "[$hostname](bold green)"
disabled = false

# ä»…åœ¨ç‰¹å®šç›®å½•æ˜¾ç¤º / Show only in specific directories
[package]
extensions = ["js", "ts", "json", "py", "rs", "go"]
format = "[$symbol$version]($style)"
symbol = "ğŸ“¦"
disabled = false

##############################################################################
# é«˜çº§é…ç½® / Advanced Configuration
##############################################################################

# è‡ªå®šä¹‰æ¨¡å— / Custom modules
[custom.example]
command = "echo 'custom module'"
when = "test -f /path/to/specific/file"
format = "[$output]($style)"
style = "bold blue"

# ç¯å¢ƒå˜é‡æ¨¡å— / Environment variable module
[env_var]
variable = "MY_ENV_VAR"
style = "bold dimmed green"
format = "[$env_value]($style)"
disabled = false

##############################################################################
# æ€§èƒ½ä¼˜åŒ– / Performance Optimization
##############################################################################

# ç¦ç”¨ä¸éœ€è¦çš„æ¨¡å— / Disable unused modules
[aws]
disabled = true

[gcloud]
disabled = true

[azure_env]
disabled = true

# å‡å°‘å‘½ä»¤æ‰§è¡Œæ—¶é—´ / Reduce command execution time
[cmd_duration]
min_time = 2000  # åªæ˜¾ç¤ºè¶…è¿‡2ç§’çš„å‘½ä»¤
show_milliseconds = false
style = "bold yellow"

##############################################################################
# ä¸»é¢˜ç¤ºä¾‹ / Theme Examples
##############################################################################

# Nerdyä¸»é¢˜ / Nerdy theme
format = """
$character$directory$git_branch$git_status$python$nodejs$rust$golang$lua
"""

# Spaceä¸»é¢˜ / Space theme
format = """
$all$line_break$character
"""

# Minimalä¸»é¢˜ / Minimal theme
format = """
$directory$character
"""

##############################################################################
# å®ç”¨æŠ€å·§ / Useful Tips
##############################################################################

# å¿«é€Ÿæµ‹è¯•é…ç½® / Quick test configuration
starship preset nerd-font-symbols -o ~/.config/starship.toml

# é‡è½½é…ç½® / Reload configuration
starship module list                    # åˆ—å‡ºæ‰€æœ‰æ¨¡å—
starship config explain                 # è§£é‡Šå½“å‰é…ç½®

# æŸ¥çœ‹é¢„è®¾ / Browse presets
starship preset -l                      # åˆ—å‡ºæ‰€æœ‰é¢„è®¾
starship preset pastel-powerline -o ~/.config/starship.toml  # åº”ç”¨é¢„è®¾

##############################################################################
# æ•…éšœæ’é™¤ / Troubleshooting
##############################################################################

# è°ƒè¯•æ¨¡å¼ / Debug mode
starship debug                          # æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯
STARSHIP_LOG=info bash                  # å¯ç”¨æ—¥å¿—

# æ€§èƒ½åˆ†æ / Performance profiling
time starship prompt                    # æµ‹é‡promptç”Ÿæˆæ—¶é—´
starship timings                        # æ˜¾ç¤ºæ¨¡å—æ‰§è¡Œæ—¶é—´

# å¸¸è§é—®é¢˜ / Common issues
# 1. å­—ä½“é—®é¢˜ï¼šç¡®ä¿ä½¿ç”¨Nerd Font
# 2. é…ç½®ä¸ç”Ÿæ•ˆï¼šæ£€æŸ¥shellé…ç½®æ–‡ä»¶
# 3. æ¨¡å—ä¸æ˜¾ç¤ºï¼šæ£€æŸ¥ç¦ç”¨æ¡ä»¶å’Œè·¯å¾„

##############################################################################
# ä¸å…¶ä»–å·¥å…·é›†æˆ / Integration with Other Tools
##############################################################################

# Tmuxé›†æˆ / Tmux integration
set -g status-right '#(starship prompt --terminal-width=60)'

# Vimé›†æˆ / Vim integration
# ä½¿ç”¨vim-airlineæ’ä»¶æ˜¾ç¤ºstarshipä¿¡æ¯

# Windows Terminalé›†æˆ / Windows Terminal integration
# åœ¨settings.jsonä¸­é…ç½®å­—ä½“ä¸ºCascadia Codeæˆ–å…¶ä»–Nerd Font

##############################################################################
# é…ç½®æœ€ä½³å®è·µ / Configuration Best Practices
##############################################################################

# 1. æ¨¡å—é¡ºåº / Module order
#    å»ºè®®é¡ºåºï¼šèº«ä»½è®¤è¯ä¿¡æ¯ -> ä½ç½®ä¿¡æ¯ -> ç‰ˆæœ¬æ§åˆ¶ -> é¡¹ç›®ä¿¡æ¯ -> æ‰§è¡ŒçŠ¶æ€

# 2. é¢œè‰²ä¸€è‡´æ€§ / Color consistency
#    ä½¿ç”¨ä¸€è‡´çš„é¢œè‰²æ–¹æ¡ˆï¼Œé¿å…è¿‡äºèŠ±å“¨

# 3. æ€§èƒ½è€ƒè™‘ / Performance considerations
#    ç¦ç”¨ä¸å¸¸ç”¨çš„æ¨¡å—ï¼Œç‰¹åˆ«æ˜¯éœ€è¦æ‰§è¡Œå¤–éƒ¨å‘½ä»¤çš„æ¨¡å—

# 4. å¯è¯»æ€§ / Readability
#    é€‚å½“ä½¿ç”¨åˆ†éš”ç¬¦å’Œæ¢è¡Œï¼Œä¿æŒpromptç®€æ´æ˜äº†

##############################################################################
# åŠ¨æ€é…ç½® / Dynamic Configuration
##############################################################################

# åŸºäºç›®å½•çš„é…ç½® / Directory-based configuration
[custom.project]
when = "[ -f package.json ] || [ -f Cargo.toml ] || [ -f requirements.txt ]"
command = "echo 'ğŸ“ Project'"
format = "[$output]($style)"
style = "bold green"

# åŸºäºæ—¶é—´çš„é…ç½® / Time-based configuration
[time]
format = "[$time]($style)"
time_format = "%T"
style = "bold blue"
disabled = false

##############################################################################
# åˆ†æ®µå¼prompt / Segmented Prompt
##############################################################################

# å·¦ä¾§prompt / Left prompt
format = """
$username$hostname$directory$git_branch$character
"""

# å³ä¾§prompt / Right prompt (éœ€è¦shellæ”¯æŒ)
# åœ¨bashä¸­é…ç½®ï¼š
#   PS1='$(starship prompt --left)'
#   PS1+='$(starship prompt --right)'

##############################################################################
# è‡ªå®šä¹‰ç¬¦å· / Custom Symbols
##############################################################################

# ä¿®æ”¹é»˜è®¤ç¬¦å· / Modify default symbols
[git_status]
ahead = "â†‘"
behind = "â†“"
diverged = "â†•"
conflicted = "âœ–"

[directory]
read_only = "ğŸ”’"
truncation_symbol = ".../"

[character]
success_symbol = "â¯"
error_symbol = "â¯"
vicmd_symbol = "â®"